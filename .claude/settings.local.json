{
  "permissions": {
    "allow": [
      "Bash(sort:*)",
      "Bash(for file in appointment-lifecycle appointments-atender-button payment-flow notifications flows)",
      "Bash(do echo \"=== $file.spec.ts ===\")",
      "Bash(PGPASSWORD='KMZvgHQAzeFdTg6O' psql:*)",
      "Bash(./apply-profile-migration.sh:*)",
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nrefactor: complete VittaMed â†’ VittaSami migration - Phase 2\n\nThis commit completes the rebranding migration from VittaMed to VittaSami:\n\n## Code Changes (src/)\n- Updated all authentication tokens: vittamed-auth-token â†’ vittasami-auth-token\n- Updated JWT secrets and cookie names across all files\n- Updated API client headers: vittamed@1.0.0 â†’ vittasami@1.0.0\n- Updated email templates and invitation URLs\n- Updated middleware configuration\n\nFiles modified:\n- src/lib/custom-auth.ts (JWT secret, cookie name)\n- src/lib/supabase.ts (client info headers)\n- src/lib/invitations.ts (login URL)\n- src/lib/notifications.ts (app URL, email templates)\n- src/middleware.ts (JWT secret, cookie name)\n- src/app/api/auth/login/route.ts (cookie name)\n- src/app/api/auth/logout/route.ts (cookie name)\n- src/app/api/users/[userId]/profile/route.ts (JWT secret, cookie name)\n- src/app/dashboard/[tenantId]/page.tsx (auth token)\n- src/app/admin/manage-users/page.tsx (auth token)\n- src/app/admin/settings/page.tsx (auth token)\n- src/app/admin/services/page.tsx (auth token)\n- src/app/my-appointments/page.tsx (auth token)\n- src/app/patients/page.tsx (auth token)\n- src/app/appointments/page.tsx (auth token)\n\n## Test Updates\n- Updated test assertions: \"VittaMed\" â†’ \"VittaSami\"\n- Updated test email domains: @vittamed.com â†’ @vittasami.com\n- âš ï¸ Preserved demo passwords (VittaMed2024!) as requested\n\nFiles modified:\n- tests/authentication.spec.ts (4 test assertions)\n- tests/flows.spec.ts (test description + email domains)\n- tests/example.spec.ts (page title)\n\n## Infrastructure Updates\n- Docker Compose: vittamed-app â†’ vittasami-app, vittamed-production â†’ vittasami-production\n- Docker networks: vittamed-network â†’ vittasami-network\n- Docker volumes: vittamed-data â†’ vittasami-data\n- Nginx config: vittamed_app â†’ vittasami_app upstream\n- Traefik labels: vittamed router â†’ vittasami router\n\nFiles modified:\n- docker-compose.yml (service names, networks, volumes)\n- Dockerfile (header comment)\n- nginx.conf (upstream name, proxy pass)\n- .dockerignore (header comment)\n\n## Cleanup\n- Renamed VittaMed.MD â†’ VittaMed.MD.legacy\n- Renamed vittamed-production backup â†’ .legacy\n\n## Verification\nâœ… Build successful (npm run build)\nâœ… Zero VittaMed references remaining in code (excluding passwords)\nâœ… All authentication flows updated\nâœ… All Docker infrastructure aligned\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(cp:*)",
      "Bash(test:*)",
      "Bash(pgrep:*)",
      "Bash(cat:*)",
      "Bash(ls:*)",
      "Bash(git checkout:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: reestructuraciÃ³n enterprise - Fase 1 (FundaciÃ³n + Componentes Core)\n\nImplementaciÃ³n de arquitectura de producciÃ³n con separaciÃ³n de dominios,\nestrategia freemium y componentes enterprise-ready.\n\n## Arquitectura de Dominios\n- ConfiguraciÃ³n centralizada para vittasami.com y app.vittasami.lat\n- Route Groups: (marketing) para landing/pricing/invest\n- Middleware con lÃ³gica de subdominios y redirecciones automÃ¡ticas\n\n## ConfiguraciÃ³n Centralizada\n- src/lib/config.ts: Dominios, rutas, helpers de routing\n- src/constants/pricing.ts: 4 planes (Free, Care $39, Pro $79, Enterprise $149)\n- src/constants/features.ts: Features, casos de uso, testimonios, stats\n\n## Design System\n- Heading: Sistema de tipografÃ­a con gradientes brand\n- Section: Containers responsive con spacing system\n- GradientText: Componente de textos con gradientes\n\n## Componentes de Marketing\n- PublicHeader: Nav moderna con sticky, backdrop blur, mobile menu animado\n- PublicFooter: Footer completo con 4 columnas, SEO optimizado\n\n## Componentes de Pricing\n- PricingCard: Cards con badges, features list, CTA\n- PricingToggle: Toggle mensual/anual con animaciÃ³n\n- FeatureComparison: Tabla comparativa completa\n- PricingFAQ: Accordion de FAQs con animaciones\n\n## Security & Production\n- Security headers: X-Frame-Options, CSP, X-Content-Type-Options\n- Middleware con manejo de subdominios\n- SEO metadata completo en layouts\n- TypeScript strict mode\n\n## Assets\n- Favicon actualizado: vittasami_logo.ico\n- Logo optimizado: vittasami_logo_alta_zoom.png\n\n## Build Status\nâœ… Build de producciÃ³n exitoso\nâœ… 17 archivos nuevos\nâœ… 3 archivos modificados\nâœ… Todas las funcionalidades compilando correctamente\n\nPendiente Fase 2:\n- Componentes de inversores\n- PÃ¡ginas completas (landing, pricing, invest)\n- API routes\n- ActualizaciÃ³n de globals.css\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)"
    ],
    "deny": [],
    "ask": []
  }
}
